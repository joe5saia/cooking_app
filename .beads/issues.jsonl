{"id":"cooking_app-0uh","title":"Backend: Add initial Postgres schema migration (users, recipes, books, tags, tokens)","description":"Create the v1 database schema exactly as specified, including audit fields, constraints, indexes, and extensions.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 7.2 (Tables) and 7.1 (Conventions).\n\nSchema requirements (minimum):\n- `users` (with bootstrap self-referential `created_by/updated_by` approach per spec).\n- `recipe_books`, `tags`, `recipes` (with `recipe_book_id` nullable, `deleted_at` for recipes only).\n- `recipe_ingredients` (with `position`, quantity fields, and `(recipe_id, position)` index).\n- `recipe_steps` (with `(recipe_id, step_number)` unique).\n- `recipe_tags` (PK `(recipe_id, tag_id)` plus audit fields).\n- `personal_access_tokens` (hash only, optional `expires_at`, `last_used_at`).\n\nDecisions to lock in (update spec if needed):\n- Case-insensitive uniqueness strategy for usernames/books/tags (`citext` vs `lower()` indexes).\n- Title search strategy (`lower(title)` vs `pg_trgm` + GIN as recommended).\n- Ingredient `position` convention (0-based vs 1-based).","acceptance_criteria":"- Migrations create all required tables/constraints/indexes per spec.\n- If any schema decisions diverge from the spec text, update `personal-recipe-app-spec.md` to match the final schema.\n- Add integration tests that apply migrations and verify key constraints/indexes (e.g., unique constraints, FK constraints, soft-delete column exists).\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:27:28.630447-05:00","updated_at":"2025-12-13T12:36:20.922965-05:00","closed_at":"2025-12-13T12:36:20.922965-05:00","dependencies":[{"issue_id":"cooking_app-0uh","depends_on_id":"cooking_app-dcn","type":"parent-child","created_at":"2025-12-13T11:34:47.23935-05:00","created_by":"daemon"},{"issue_id":"cooking_app-0uh","depends_on_id":"cooking_app-zvm","type":"blocks","created_at":"2025-12-13T11:35:59.222071-05:00","created_by":"daemon"}]}
{"id":"cooking_app-131","title":"Recipe detail: show API error message on load failure","description":"When loading recipe detail fails (non-404), display ApiError message (problem.message) in the alert instead of a generic string; add tests.","status":"closed","priority":4,"issue_type":"bug","created_at":"2025-12-13T22:52:21.116002-05:00","updated_at":"2025-12-13T22:54:14.229325-05:00","closed_at":"2025-12-13T22:54:14.229325-05:00"}
{"id":"cooking_app-1g9","title":"Frontend: Add unit test setup (Vitest + React Testing Library) and run it in CI","description":"Add a frontend unit/component testing setup so subsequent UI issues can add real tests.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 13 (Frontend testing requirements).\n\nImplementation notes:\n- Add `vitest`, `@testing-library/react`, `@testing-library/jest-dom`, and `jsdom`.\n- Add `npm run test` (and optionally `test:watch`).\n- Consider updating root `Makefile` `frontend-ci` to include `npm run test` so tests are enforced.\n- Add at least one smoke test (e.g., renders App shell or login route).","acceptance_criteria":"- `npm run test` runs in CI/non-CI and passes.\n- At least one test exists and asserts a real UI behavior.\n- If `make frontend-ci` is updated, ensure `make ci` passes.\n- Run `make frontend-format` (if files changed) and ensure `make frontend-ci` passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:32:18.03251-05:00","updated_at":"2025-12-13T16:45:45.158558-05:00","closed_at":"2025-12-13T16:45:45.158558-05:00","dependencies":[{"issue_id":"cooking_app-1g9","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.1511-05:00","created_by":"daemon"}]}
{"id":"cooking_app-1ha","title":"Backend: Add OpenAPI v1 document and CI validation (optional TS client generation)","description":"Create and maintain an OpenAPI document for the v1 REST API.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 10.4 (OpenAPI recommended) and section 8 (API specification).\n\nImplementation notes:\n- Add `backend/openapi.yaml` (or `openapi.yaml` per spec’s recommended layout) describing at least:\n  - `/api/v1/auth/*`\n  - `/api/v1/tokens`\n  - `/api/v1/users`\n  - `/api/v1/recipe-books`, `/api/v1/tags`\n  - `/api/v1/recipes` and `/api/v1/recipes/{id}` plus delete/restore\n- Add a CI validation step so the spec stays valid.\n- If TS client generation is adopted, document where the generated client lives and ensure it is reproducible.","acceptance_criteria":"- OpenAPI document exists and is validated automatically (CI/script).\n- Add automated tests that assert the OpenAPI includes required paths/schemas (e.g., a Go unit test that parses YAML and checks for required endpoints).\n- If the OpenAPI file path differs from `personal-recipe-app-spec.md` recommendations, update the spec.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:33:53.069411-05:00","updated_at":"2025-12-13T19:47:50.174109-05:00","closed_at":"2025-12-13T19:47:50.174109-05:00","dependencies":[{"issue_id":"cooking_app-1ha","depends_on_id":"cooking_app-dcn","type":"parent-child","created_at":"2025-12-13T11:34:47.218556-05:00","created_by":"daemon"}]}
{"id":"cooking_app-1jw","title":"Deployment: Ignore local backup artifacts","description":"`deploy/backup-postgres.sh` writes backups under `deploy/backups/`. Add gitignore entries so local backup artifacts are never accidentally committed.","acceptance_criteria":"- `deploy/backups/` is ignored by git.\n- `make ci` passes.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-13T22:00:54.737378-05:00","updated_at":"2025-12-13T22:01:53.37299-05:00","closed_at":"2025-12-13T22:01:53.37299-05:00"}
{"id":"cooking_app-1py","title":"Recipe detail: render tag list with separators as links","description":"Add test coverage for the new tag Links on the recipe detail page (ensuring navigation to /recipes works).","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-13T22:31:51.708603-05:00","updated_at":"2025-12-13T22:37:09.973379-05:00","closed_at":"2025-12-13T22:37:09.973379-05:00"}
{"id":"cooking_app-2iw","title":"MVP v1 epic: Backend recipes, books, tags REST API","description":"Implement the core recipe management REST API per `personal-recipe-app-spec.md` (recipes CRUD + listing/search/sort, recipe books, tags).\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4 (Product requirements), 7 (Data model), 8.5–8.7 (Books/Tags/Recipes API), 9.2 (transactional update), 13 (Backend tests), 14 (Acceptance criteria).\n\nScope:\n- Recipe Books CRUD endpoints.\n- Tags CRUD endpoints.\n- Recipes list/detail/create/update/soft-delete and recommended restore endpoint.\n- Validation rules + transactional replace semantics.\n\nNon-goals:\n- Meal planning/grocery/offline/import/export (explicit non-goals).","acceptance_criteria":"- All child issues under this epic are completed and meet their own acceptance criteria.\n- Any implementation decisions (pagination, search indexing, etc.) are reflected in `personal-recipe-app-spec.md`.\n- `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-13T11:26:37.596954-05:00","updated_at":"2025-12-13T21:51:36.308363-05:00","closed_at":"2025-12-13T21:51:36.308363-05:00"}
{"id":"cooking_app-30b","title":"Backend PATs: Implement Bearer token authentication (hash lookup, expiry, last_used_at)","description":"Implement PAT-based request authentication for API clients.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 9.5 (PAT authentication) and 12 (Security).\n\nImplementation notes:\n- Parse `Authorization: Bearer \u003cPAT\u003e`.\n- Hash secret (e.g., sha256) and look up by hash index.\n- Enforce expiration (`expires_at`), and reject revoked/unknown tokens.\n- Update `last_used_at` best-effort on successful auth.\n- Ensure middleware sets `auth_type = \"pat\"` for logging.","acceptance_criteria":"- Requests with valid PAT authenticate successfully; invalid/expired tokens get 401.\n- Unit tests cover parsing, hashing, and expiry behavior.\n- Integration tests cover a protected endpoint using PAT auth (per spec acceptance criteria #5).\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:29:24.627703-05:00","updated_at":"2025-12-13T18:23:40.075629-05:00","closed_at":"2025-12-13T18:23:40.075629-05:00","dependencies":[{"issue_id":"cooking_app-30b","depends_on_id":"cooking_app-hz4","type":"parent-child","created_at":"2025-12-13T11:34:56.874825-05:00","created_by":"daemon"},{"issue_id":"cooking_app-30b","depends_on_id":"cooking_app-4u5","type":"blocks","created_at":"2025-12-13T11:36:17.586291-05:00","created_by":"daemon"}]}
{"id":"cooking_app-3vo","title":"Backend logging: Add structured request logging middleware (JSONL fields per spec)","description":"Implement request-level structured logging so each API request emits JSONL with the fields defined in the spec.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 9.6 (Logging: JSONL).\n\nImplementation notes:\n- Log fields: `ts`, `level`, `msg`, `request_id`, `remote_ip`, `method`, `path`, `status`, `duration_ms`, and when available: `user_id`, `auth_type` (`session|pat`).\n- Ensure compatibility with existing `chi` middleware (request id, real ip).\n- Avoid logging secrets (Authorization headers, passwords, PAT secrets).","acceptance_criteria":"- Request logs include required fields and omit secrets.\n- Unit tests validate logging includes request_id/status/duration and includes `user_id` when auth present.\n- Integration tests verify at least one logged request includes `auth_type`.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:29:24.56073-05:00","updated_at":"2025-12-13T18:34:15.624499-05:00","closed_at":"2025-12-13T18:34:15.624499-05:00","dependencies":[{"issue_id":"cooking_app-3vo","depends_on_id":"cooking_app-dcn","type":"parent-child","created_at":"2025-12-13T11:34:47.24863-05:00","created_by":"daemon"},{"issue_id":"cooking_app-3vo","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:35:59.20707-05:00","created_by":"daemon"}]}
{"id":"cooking_app-45z","title":"Backend users API: Implement /api/v1/users (list, create) and optional deactivate endpoint","description":"Implement admin-style user management (all users are effectively admin in v1).\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 3 (Provisioning model), 8.4 (User management endpoints), 14 (Acceptance criteria #1).\n\nImplementation notes:\n- `GET /api/v1/users`: list users (exclude password_hash).\n- `POST /api/v1/users`: create user with username/password/display_name.\n- Optional but recommended: `PUT /api/v1/users/{id}/deactivate` sets `is_active=false`.\n- Enforce: only authenticated users can manage users.","acceptance_criteria":"- Endpoints exist and match spec intent; if response shapes differ, update `personal-recipe-app-spec.md` accordingly.\n- Validation errors use the shared problem-style JSON format.\n- Unit tests cover request validation and response shaping.\n- Integration tests cover list/create (and deactivate if implemented).\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T11:29:24.606162-05:00","updated_at":"2025-12-13T18:29:24.383502-05:00","closed_at":"2025-12-13T18:29:24.383502-05:00","dependencies":[{"issue_id":"cooking_app-45z","depends_on_id":"cooking_app-hz4","type":"parent-child","created_at":"2025-12-13T11:34:56.895135-05:00","created_by":"daemon"},{"issue_id":"cooking_app-45z","depends_on_id":"cooking_app-qno","type":"blocks","created_at":"2025-12-13T11:36:17.574191-05:00","created_by":"daemon"},{"issue_id":"cooking_app-45z","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:17.597089-05:00","created_by":"daemon"}]}
{"id":"cooking_app-4dx","title":"Deployment: Provide custom Caddy DNS-01 image build example","description":"The production compose skeleton requires a Caddy build with a DNS provider module for DNS-01, but deploy/compose.yaml currently uses stock caddy:2. Add deploy/Dockerfile.caddy (xcaddy build) and update deploy/README.md + deploy/compose.yaml to show how to build/run with a DNS module (default Cloudflare, configurable via build args).","acceptance_criteria":"- `deploy/Dockerfile.caddy` exists and builds a Caddy binary with a configurable DNS module.\n- `deploy/compose.yaml` documents/uses the custom Caddy build.\n- `deploy/README.md` explains how to set the DNS module + provider env vars.\n- `make ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T22:02:51.09934-05:00","updated_at":"2025-12-13T22:04:00.80596-05:00","closed_at":"2025-12-13T22:04:00.80596-05:00"}
{"id":"cooking_app-4jx","title":"Deployment: Document and/or script Postgres backups (pg_dump) with retention guidance","description":"Add backup documentation or scripts for Postgres backups as described in the spec.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 11.6 (Backups).\n\nImplementation notes:\n- Provide a sample script that runs `pg_dump` via `docker exec` into a host directory.\n- Document recommended cron/systemd timer configuration and retention policy (even if final numbers are TBD).","acceptance_criteria":"- Backup instructions (and script if added) are present and align with `personal-recipe-app-spec.md`.\n- If you choose a specific retention policy or script path, update `personal-recipe-app-spec.md` accordingly.\n- Add automated checks where applicable (shellcheck, basic script tests).\n- Ensure `make ci` passes.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-13T11:33:53.042764-05:00","updated_at":"2025-12-13T21:51:06.131227-05:00","closed_at":"2025-12-13T21:51:06.131227-05:00","dependencies":[{"issue_id":"cooking_app-4jx","depends_on_id":"cooking_app-5qy","type":"parent-child","created_at":"2025-12-13T11:35:27.051759-05:00","created_by":"daemon"}]}
{"id":"cooking_app-4lu","title":"Frontend settings: Implement /settings/users user manager UI","description":"Implement UI for admin-style user management.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.1 (Settings), 8.4 (User management endpoints), 3 (Provisioning model).\n\nImplementation notes:\n- List users.\n- Create user (username/password/display_name).\n- Optional: deactivate user (if backend supports it).","acceptance_criteria":"- UI works end-to-end against backend users endpoints.\n- Add component tests for create user validation and submit.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T11:32:52.42606-05:00","updated_at":"2025-12-13T20:25:22.580552-05:00","closed_at":"2025-12-13T20:25:22.580552-05:00","dependencies":[{"issue_id":"cooking_app-4lu","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.185886-05:00","created_by":"daemon"},{"issue_id":"cooking_app-4lu","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:37:35.627034-05:00","created_by":"daemon"},{"issue_id":"cooking_app-4lu","depends_on_id":"cooking_app-45z","type":"blocks","created_at":"2025-12-13T11:37:35.641399-05:00","created_by":"daemon"},{"issue_id":"cooking_app-4lu","depends_on_id":"cooking_app-rmu","type":"blocks","created_at":"2025-12-13T11:37:35.644625-05:00","created_by":"daemon"}]}
{"id":"cooking_app-4u5","title":"Backend PATs: Implement /api/v1/tokens create/list/revoke endpoints","description":"Implement Personal Access Token (PAT) management endpoints required from day one.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 8.3 (PAT endpoints) and 7.2.8 (`personal_access_tokens`).\n\nImplementation notes:\n- `POST /api/v1/tokens`: accept `name` and optional `expires_at`, generate secret with `umami_pat_` prefix, store only hash, return secret once.\n- `GET /api/v1/tokens`: list current user tokens (no secret), include `last_used_at` and `expires_at`.\n- `DELETE /api/v1/tokens/{id}`: revoke token (`204`).","acceptance_criteria":"- Endpoints match spec status codes and response shapes.\n- Token secret is only returned once; DB stores only hash.\n- Unit tests cover token generation format + hashing.\n- Integration tests cover create/list/revoke end-to-end.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:29:24.617404-05:00","updated_at":"2025-12-13T18:13:13.095705-05:00","closed_at":"2025-12-13T18:13:13.095705-05:00","dependencies":[{"issue_id":"cooking_app-4u5","depends_on_id":"cooking_app-hz4","type":"parent-child","created_at":"2025-12-13T11:34:56.908611-05:00","created_by":"daemon"},{"issue_id":"cooking_app-4u5","depends_on_id":"cooking_app-6aa","type":"blocks","created_at":"2025-12-13T11:36:17.553621-05:00","created_by":"daemon"},{"issue_id":"cooking_app-4u5","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:17.578494-05:00","created_by":"daemon"}]}
{"id":"cooking_app-56r","title":"Recipes list: show error when restore action fails","description":"If restoring a deleted recipe from the list fails, show a visible error (using ApiError message when available) and keep list usable; add tests.","status":"closed","priority":4,"issue_type":"bug","created_at":"2025-12-13T22:41:45.082239-05:00","updated_at":"2025-12-13T22:42:39.363079-05:00","closed_at":"2025-12-13T22:42:39.363079-05:00"}
{"id":"cooking_app-571","title":"Frontend books: Implement /books screen (CRUD)","description":"Implement recipe books management UI.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.3 (Recipe books), 8.5 (Recipe Books endpoints), 10.2 (routes).\n\nImplementation notes:\n- List books.\n- Create and rename books.\n- Delete books with behavior matching backend/spec decision.\n- Keep UI minimal and mobile-friendly.","acceptance_criteria":"- UI supports list/create/update/delete against backend endpoints.\n- Error states are displayed using a consistent UI pattern.\n- Add component tests for create/delete flows.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T11:32:52.333636-05:00","updated_at":"2025-12-13T20:18:40.481124-05:00","closed_at":"2025-12-13T20:18:40.481124-05:00","dependencies":[{"issue_id":"cooking_app-571","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.182526-05:00","created_by":"daemon"},{"issue_id":"cooking_app-571","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:37:35.601611-05:00","created_by":"daemon"},{"issue_id":"cooking_app-571","depends_on_id":"cooking_app-rmu","type":"blocks","created_at":"2025-12-13T11:37:35.607665-05:00","created_by":"daemon"},{"issue_id":"cooking_app-571","depends_on_id":"cooking_app-e3h","type":"blocks","created_at":"2025-12-13T11:37:35.613061-05:00","created_by":"daemon"}]}
{"id":"cooking_app-58u","title":"Recipes list: sync filters to URL querystring","description":"Persist recipe list filters (q, book_id, tag_id, include_deleted) in the URL so refresh/share/back retains state.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-13T22:06:39.204869-05:00","updated_at":"2025-12-13T22:15:08.181549-05:00","closed_at":"2025-12-13T22:15:08.181549-05:00"}
{"id":"cooking_app-5mo","title":"Recipes list: show API error message on load failure","description":"When /api/v1/recipes list request fails, display ApiError message (problem.message) in the alert instead of a generic string; add a test.","status":"closed","priority":4,"issue_type":"bug","created_at":"2025-12-13T22:52:21.145911-05:00","updated_at":"2025-12-13T22:53:22.651605-05:00","closed_at":"2025-12-13T22:53:22.651605-05:00"}
{"id":"cooking_app-5p5","title":"Frontend: Implement React Router routes + AppShell/TopNav navigation","description":"Replace the Vite starter UI with the MVP app shell and routes.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.1 (Primary screens), 10.2 (App routes), 10.3 (Component structure).\n\nImplementation notes:\n- Add React Router and define routes:\n  - `/login`\n  - `/recipes`, `/recipes/new`, `/recipes/:id`, `/recipes/:id/edit`\n  - `/books`, `/tags`\n  - `/settings`, `/settings/tokens`, `/settings/users`\n- Implement `AppShell` + `TopNav` (mobile-first).\n- Integrate a simple active route indicator.","acceptance_criteria":"- Navigation renders and routing works for all listed routes (placeholders allowed initially).\n- Add/extend frontend tests to cover routing/nav behavior.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:32:18.077657-05:00","updated_at":"2025-12-13T18:08:39.220511-05:00","closed_at":"2025-12-13T18:08:39.220511-05:00","dependencies":[{"issue_id":"cooking_app-5p5","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.157578-05:00","created_by":"daemon"},{"issue_id":"cooking_app-5p5","depends_on_id":"cooking_app-1g9","type":"blocks","created_at":"2025-12-13T11:36:58.826769-05:00","created_by":"daemon"}]}
{"id":"cooking_app-5qy","title":"MVP v1 epic: Deployment (Compose + Caddy) and ops","description":"Implement the self-hosted deployment approach described in `personal-recipe-app-spec.md` (Ubuntu + Docker Compose + Caddy + Postgres 18), plus operational basics like backups.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 11 (Deployment specification) and 11.6 (Backups).\n\nScope:\n- Production-oriented compose + Caddy config (TLS via DNS-01 guidance).\n- Document required env vars and operational steps.\n- Add backup guidance/scripts.\n\nNon-goals:\n- Kubernetes/Helm; advanced observability beyond structured logs in spec.","acceptance_criteria":"- Deployment artifacts exist as described in `personal-recipe-app-spec.md`, and the spec is updated if filenames/paths/config differ.\n- Any scripts/config added are covered by tests where applicable.\n- `make ci` passes.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-13T11:26:37.571415-05:00","updated_at":"2025-12-13T21:51:20.978403-05:00","closed_at":"2025-12-13T21:51:20.978403-05:00"}
{"id":"cooking_app-6aa","title":"Backend auth: Implement session management + /auth/login|logout|me endpoints","description":"Implement browser authentication using cookie-based sessions and the auth endpoints defined in the spec.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 8.2 (Auth endpoints), 9.4 (Sessions), 12 (cookie requirements).\n\nImplementation notes:\n- Decide session storage strategy:\n  - Recommended: server-side sessions stored in Postgres (add `sessions` table if needed).\n  - Alternative: signed cookies (if chosen, update spec to match).\n- `/api/v1/auth/login`: validate username/password, reject inactive users, set secure HttpOnly SameSite=Lax cookie, return `204`.\n- `/api/v1/auth/logout`: clear cookie, return `204`.\n- `/api/v1/auth/me`: return current user JSON per spec.","acceptance_criteria":"- Endpoints match spec response shapes/status codes.\n- Unit tests cover auth logic and cookie settings.\n- Integration tests cover login/logout/me behavior end-to-end against Postgres.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:29:24.579222-05:00","updated_at":"2025-12-13T17:01:42.620546-05:00","closed_at":"2025-12-13T17:01:42.620546-05:00","dependencies":[{"issue_id":"cooking_app-6aa","depends_on_id":"cooking_app-hz4","type":"parent-child","created_at":"2025-12-13T11:34:56.899897-05:00","created_by":"daemon"},{"issue_id":"cooking_app-6aa","depends_on_id":"cooking_app-qno","type":"blocks","created_at":"2025-12-13T11:36:17.564671-05:00","created_by":"daemon"},{"issue_id":"cooking_app-6aa","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:17.56956-05:00","created_by":"daemon"}]}
{"id":"cooking_app-7ko","title":"MVP v1 epic: Frontend app shell and core screens","description":"Build the React + TypeScript + Vite frontend per `personal-recipe-app-spec.md`, including routing, auth flow, and core CRUD screens.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 4.1 (Screens), 10 (Frontend spec), 14 (Acceptance criteria).\n\nScope:\n- React Router routes and AppShell/TopNav navigation.\n- Login flow using backend sessions.\n- Recipes list/detail/create/edit flows.\n- Books/tags management.\n- Settings: PAT management + user management.\n\nNon-goals:\n- Offline support (explicitly out of scope for v1).","acceptance_criteria":"- All child issues under this epic are completed and meet their own acceptance criteria.\n- `make frontend-ci` passes (format check, eslint, build/typecheck).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-13T11:26:37.63048-05:00","updated_at":"2025-12-13T21:51:36.298223-05:00","closed_at":"2025-12-13T21:51:36.298223-05:00"}
{"id":"cooking_app-8j4","title":"Recipe detail: show error when delete/restore fails","description":"If delete/restore mutations fail on recipe detail, display an error message and avoid navigating away; add tests for failure paths.","status":"closed","priority":4,"issue_type":"bug","created_at":"2025-12-13T22:41:45.055353-05:00","updated_at":"2025-12-13T22:44:27.312746-05:00","closed_at":"2025-12-13T22:44:27.312746-05:00"}
{"id":"cooking_app-9yf","title":"Recipe detail/editor: prevent editing deleted recipe (guide restore)","description":"If a recipe is soft-deleted, the UI should not offer Edit/Save actions that will fail with 409; instead guide the user to restore first.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-13T22:06:39.250802-05:00","updated_at":"2025-12-13T22:12:01.433557-05:00","closed_at":"2025-12-13T22:12:01.433557-05:00"}
{"id":"cooking_app-9zw","title":"Recipe detail: render notes with preserved newlines","description":"Display recipe notes using `white-space: pre-wrap` so newlines are preserved. Add/update tests.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T23:04:25.048294-05:00","updated_at":"2025-12-13T23:07:20.068491-05:00","closed_at":"2025-12-13T23:07:20.068491-05:00"}
{"id":"cooking_app-a9a","title":"Deployment: Add production backend Dockerfile for deploy/compose.yaml","description":"`deploy/compose.yaml` builds the backend service from `../backend` but the repo only has `backend/Dockerfile.dev`. Add a production `backend/Dockerfile` so the production compose skeleton can build the API image.","acceptance_criteria":"- `backend/Dockerfile` exists and builds the API binary.\n- `deploy/compose.yaml` can build the backend service without needing Dockerfile overrides.\n- `make ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T21:56:29.250476-05:00","updated_at":"2025-12-13T21:57:31.412059-05:00","closed_at":"2025-12-13T21:57:31.412059-05:00"}
{"id":"cooking_app-atz","title":"Backend: Standardize API error responses + validation helpers (problem-style JSON)","description":"Add shared HTTP helpers for consistent error responses and request validation.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 8.1 (Errors: JSON problem-style example).\n\nImplementation notes:\n- Provide helpers to write JSON errors with `code`, `message`, and optional `details`.\n- Ensure correct content-type (`application/json; charset=utf-8`) and status codes.\n- Ensure handlers can return validation errors consistently (e.g., missing title, invalid servings).","acceptance_criteria":"- A shared error/response package exists and is used by at least one endpoint.\n- Add unit tests for error serialization and content type/status correctness.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:27:28.604403-05:00","updated_at":"2025-12-13T12:15:45.123724-05:00","closed_at":"2025-12-13T12:15:45.123724-05:00","dependencies":[{"issue_id":"cooking_app-atz","depends_on_id":"cooking_app-dcn","type":"parent-child","created_at":"2025-12-13T11:34:47.252624-05:00","created_by":"daemon"}]}
{"id":"cooking_app-axb","title":"Recipe editor: support ingredient notes/original text inputs","description":"Expose ingredient-level `notes` and `original_text` fields in the recipe editor UI and ensure they are included in create/update payloads.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-13T22:22:09.395486-05:00","updated_at":"2025-12-13T22:24:34.063494-05:00","closed_at":"2025-12-13T22:24:34.063494-05:00"}
{"id":"cooking_app-bq9","title":"Backend recipes: Implement GET /api/v1/recipes list (search, filters, sort, pagination)","description":"Implement the recipes list endpoint with title-only search and required sorting.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.5 (Search/sort), 4.6 (Soft delete), 8.7.1 (List recipes).\n\nImplementation notes:\n- Endpoint: `GET /api/v1/recipes?q=\u0026book_id=\u0026tag_id=\u0026include_deleted=`.\n- Defaults: exclude soft-deleted recipes.\n- Sort: `updated_at DESC`.\n- Search: title-only when `q` present; ensure query uses the chosen index strategy (`lower(title)` or trigram).\n- Pagination: cursor pagination recommended; if offset chosen, update `personal-recipe-app-spec.md` (8.7.1) to document final behavior.","acceptance_criteria":"- Endpoint matches spec response shape (`items`, `next_cursor`) and behaviors (or `personal-recipe-app-spec.md` updated to match).\n- Unit tests cover parameter validation and response shaping.\n- Integration tests cover: default excludes deleted, include_deleted works, q search works, filter by book/tag, and ordering by updated_at.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:30:45.145072-05:00","updated_at":"2025-12-13T21:24:46.620659-05:00","closed_at":"2025-12-13T21:24:46.620659-05:00","dependencies":[{"issue_id":"cooking_app-bq9","depends_on_id":"cooking_app-2iw","type":"parent-child","created_at":"2025-12-13T11:35:07.338008-05:00","created_by":"daemon"},{"issue_id":"cooking_app-bq9","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:31.790228-05:00","created_by":"daemon"},{"issue_id":"cooking_app-bq9","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:31.808395-05:00","created_by":"daemon"}]}
{"id":"cooking_app-brc","title":"Frontend recipes: Implement /recipes/:id detail screen","description":"Implement recipe detail view optimized for reading.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.2 (Recipe requirements), 8.7.2 (Get recipe detail), 10.1 (UX).\n\nImplementation notes:\n- Fetch from `GET /api/v1/recipes/{id}`.\n- Display title, times, servings, source URL, notes, tags, ingredients, steps.\n- Provide actions: edit, delete (soft delete).\n- Handle 404 and loading states gracefully.","acceptance_criteria":"- Screen renders data from the API and matches the spec’s required fields.\n- Delete action triggers soft delete and returns user to list (or updates state) consistent with v1 UX.\n- Add component tests for loading, error, and successful render.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:32:52.360102-05:00","updated_at":"2025-12-13T21:41:03.137737-05:00","closed_at":"2025-12-13T21:41:03.137737-05:00","dependencies":[{"issue_id":"cooking_app-brc","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.145339-05:00","created_by":"daemon"},{"issue_id":"cooking_app-brc","depends_on_id":"cooking_app-uln","type":"blocks","created_at":"2025-12-13T11:37:09.044346-05:00","created_by":"daemon"},{"issue_id":"cooking_app-brc","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:37:09.052632-05:00","created_by":"daemon"},{"issue_id":"cooking_app-brc","depends_on_id":"cooking_app-els","type":"blocks","created_at":"2025-12-13T11:37:09.073598-05:00","created_by":"daemon"},{"issue_id":"cooking_app-brc","depends_on_id":"cooking_app-rmu","type":"blocks","created_at":"2025-12-13T11:37:09.077985-05:00","created_by":"daemon"}]}
{"id":"cooking_app-brp","title":"Recipes list: show per-item restoring state","description":"When restoring a deleted recipe from the list, disable only that row’s Restore button and show a loading label (e.g. “Restoring…”). Other rows remain interactive. Add/adjust tests.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:45:09.044068-05:00","updated_at":"2025-12-13T22:50:31.835309-05:00","closed_at":"2025-12-13T22:50:31.835309-05:00"}
{"id":"cooking_app-ca7","title":"Recipe delete: add confirmation prompt in UI","description":"Prevent accidental deletes by requiring user confirmation before calling DELETE /recipes/:id from the detail page. Add/update tests.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:37:44.418706-05:00","updated_at":"2025-12-13T22:40:53.981365-05:00","closed_at":"2025-12-13T22:40:53.981365-05:00"}
{"id":"cooking_app-cr4","title":"Backend recipes: Implement PUT /api/v1/recipes/{id} update (replace semantics, transactional)","description":"Implement recipe update with replace semantics for ingredients/steps/tags.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 8.7.4 (Update recipe), 9.2 (transactional update pattern).\n\nImplementation notes:\n- Transaction pattern: update recipe row, delete and re-insert ingredients/steps, replace recipe_tags, commit.\n- Enforce validation rules same as create.\n- Define behavior when recipe is soft-deleted (reject updates vs allow); update `personal-recipe-app-spec.md` if restrictions differ from expectations.","acceptance_criteria":"- Endpoint updates recipe and returns updated detail response.\n- Operation is transactional (no partial updates if an insert fails).\n- Unit tests cover validation and conflict cases.\n- Integration tests cover update replacing ingredients/steps/tags and updating `updated_at/updated_by`.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:30:45.177311-05:00","updated_at":"2025-12-13T21:32:05.475768-05:00","closed_at":"2025-12-13T21:32:05.475768-05:00","dependencies":[{"issue_id":"cooking_app-cr4","depends_on_id":"cooking_app-2iw","type":"parent-child","created_at":"2025-12-13T11:35:07.353485-05:00","created_by":"daemon"},{"issue_id":"cooking_app-cr4","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:41.678045-05:00","created_by":"daemon"},{"issue_id":"cooking_app-cr4","depends_on_id":"cooking_app-xhj","type":"blocks","created_at":"2025-12-13T11:36:41.684345-05:00","created_by":"daemon"},{"issue_id":"cooking_app-cr4","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:41.689618-05:00","created_by":"daemon"}]}
{"id":"cooking_app-cvk","title":"Recipe detail: show loading labels for delete/restore actions","description":"On recipe detail, show “Deleting…” / “Restoring…” while the mutation is pending, and clear any previous action error when a new action begins. Add/adjust tests.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:45:09.03012-05:00","updated_at":"2025-12-13T22:51:38.742217-05:00","closed_at":"2025-12-13T22:51:38.742217-05:00"}
{"id":"cooking_app-d61","title":"Frontend recipes: Implement /recipes list (search, filters, sort)","description":"Implement the primary recipes list screen.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.5 (Search/sort), 8.7.1 (List recipes), 10.1 (UX), 10.2 (routes).\n\nImplementation notes:\n- Show recipes sorted by recently updated.\n- Title-only search input (`q`).\n- Optional filters: book and tag (`book_id`, `tag_id`).\n- Link to recipe detail and edit.","acceptance_criteria":"- Screen renders list from `GET /api/v1/recipes` and supports search/filter interactions.\n- Add component tests (renders list items; search triggers query; empty state).\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:32:18.05983-05:00","updated_at":"2025-12-13T21:36:22.436543-05:00","closed_at":"2025-12-13T21:36:22.436543-05:00","dependencies":[{"issue_id":"cooking_app-d61","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.171424-05:00","created_by":"daemon"},{"issue_id":"cooking_app-d61","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:37:09.058592-05:00","created_by":"daemon"},{"issue_id":"cooking_app-d61","depends_on_id":"cooking_app-rmu","type":"blocks","created_at":"2025-12-13T11:37:09.063823-05:00","created_by":"daemon"},{"issue_id":"cooking_app-d61","depends_on_id":"cooking_app-bq9","type":"blocks","created_at":"2025-12-13T11:37:09.06889-05:00","created_by":"daemon"}]}
{"id":"cooking_app-d8o","title":"Recipe detail: show ingredient notes/original text when present","description":"When ingredient notes or original_text are present, show them in the ingredients list on the recipe detail page.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:28:51.187354-05:00","updated_at":"2025-12-13T22:30:49.969667-05:00","closed_at":"2025-12-13T22:30:49.969667-05:00"}
{"id":"cooking_app-dcn","title":"MVP v1 epic: Backend foundation (DB, migrations, data access)","description":"Build the backend foundation required by `personal-recipe-app-spec.md` to support the MVP data model + REST API.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 6.1 (Backend stack), 7 (Data model), 9 (Backend implementation details), 13 (Backend testing requirements).\n\nScope:\n- Standardize on a migrations tool and add repo targets/docs for applying migrations.\n- Implement the full Postgres schema required for v1 (users, recipes, ingredients, steps, tags, recipe_books, recipe_tags, personal_access_tokens).\n- Establish a type-safe query/data-access layer (prefer `sqlc` as recommended) and DB connection wiring for the API.\n- Provide baseline API error format and DB transaction patterns to support feature work.\n\nNon-goals:\n- Implementing any of the user-facing endpoints beyond what is required to validate the foundation (those are tracked in child issues).","acceptance_criteria":"- All child issues under this epic are completed and meet their own acceptance criteria.\n- `personal-recipe-app-spec.md` is updated if any foundation decisions/implementation differ from the spec recommendations (with rationale).\n- `make backend-ci` passes (fmt, vet, lint, tests).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-13T11:26:16.537567-05:00","updated_at":"2025-12-13T21:51:36.286926-05:00","closed_at":"2025-12-13T21:51:36.286926-05:00","labels":["backend","db","migrations","sqlc"]}
{"id":"cooking_app-dmd","title":"Spec: Fix deploy/compose.yaml relative paths example","description":"`personal-recipe-app-spec.md` section 11.4 references `deploy/compose.yaml` but uses volume paths as if the compose file were at repo root. Update the example to match actual relative paths for a compose file in `deploy/`.","acceptance_criteria":"- Spec section 11.4 volume paths match `deploy/compose.yaml` semantics (relative to `deploy/`).\n- `make ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T21:59:06.209619-05:00","updated_at":"2025-12-13T21:59:59.288192-05:00","closed_at":"2025-12-13T21:59:59.288192-05:00"}
{"id":"cooking_app-doe","title":"Recipes list: show updated_at in meta line","description":"In the recipes list per-item meta line, also show the last updated timestamp from `updated_at` (stable string display). Update tests.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T23:04:25.065694-05:00","updated_at":"2025-12-13T23:05:24.071086-05:00","closed_at":"2025-12-13T23:05:24.071086-05:00"}
{"id":"cooking_app-dzu","title":"Deployment: Add production Docker Compose + Caddy config skeleton (TLS via DNS-01)","description":"Add production-oriented deployment artifacts aligned with the spec.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 11 (Deployment specification), 11.3 (DNS-01 requirement), 11.4–11.5 (compose/Caddyfile skeleton).\n\nImplementation notes:\n- Add a `deploy/` directory containing:\n  - production compose file (e.g., `deploy/compose.yaml`)\n  - `Caddyfile` template supporting static frontend + reverse proxy to API under `/api/*`\n  - env var documentation for DB creds, session secret, and DNS provider creds\n- Keep existing `compose.yaml` as the dev stack.","acceptance_criteria":"- Production deployment artifacts exist and match spec intent.\n- If filenames/paths/variables differ from the spec skeleton, update `personal-recipe-app-spec.md` to reflect the final structure.\n- Add basic automated checks where applicable (e.g., YAML syntax validation).\n- Ensure `make ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:33:53.088964-05:00","updated_at":"2025-12-13T21:51:00.401377-05:00","closed_at":"2025-12-13T21:51:00.401377-05:00","dependencies":[{"issue_id":"cooking_app-dzu","depends_on_id":"cooking_app-5qy","type":"parent-child","created_at":"2025-12-13T11:35:27.059509-05:00","created_by":"daemon"}]}
{"id":"cooking_app-e3h","title":"Backend recipe books: Implement /api/v1/recipe-books CRUD endpoints","description":"Implement Recipe Books CRUD endpoints.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.3 (Recipe books), 7.2.2 (`recipe_books`), 8.5 (Recipe Books endpoints).\n\nImplementation notes:\n- Endpoints: `GET/POST/PUT/DELETE /api/v1/recipe-books`.\n- Enforce auth.\n- Delete semantics: spec notes to consider preventing delete if recipes exist or set `recipe_book_id` null; choose one and update `personal-recipe-app-spec.md` to reflect the behavior.\n- Ensure names are unique (case-insensitive per schema decision).","acceptance_criteria":"- Endpoints exist and behave as documented in the spec (or `personal-recipe-app-spec.md` updated to match final behavior).\n- Unit tests cover validation and error responses.\n- Integration tests cover create/list/update/delete scenarios, including delete behavior with existing recipes.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T11:30:45.161821-05:00","updated_at":"2025-12-13T19:43:31.089918-05:00","closed_at":"2025-12-13T19:43:31.089918-05:00","dependencies":[{"issue_id":"cooking_app-e3h","depends_on_id":"cooking_app-2iw","type":"parent-child","created_at":"2025-12-13T11:35:07.357929-05:00","created_by":"daemon"},{"issue_id":"cooking_app-e3h","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:31.778823-05:00","created_by":"daemon"},{"issue_id":"cooking_app-e3h","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:31.784722-05:00","created_by":"daemon"}]}
{"id":"cooking_app-els","title":"Backend recipes: Implement GET /api/v1/recipes/{id} detail endpoint","description":"Implement recipe detail endpoint returning full recipe including ingredients, steps, tags, and audit fields.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.2 (Recipe requirements), 7.2.4–7.2.7 (recipe tables), 8.7.2 (Get recipe detail).\n\nImplementation notes:\n- Endpoint: `GET /api/v1/recipes/{id}`.\n- Include: recipe fields + tags + ingredients (ordered by position) + steps (ordered by step_number) + audit fields + `deleted_at`.\n- Decide whether soft-deleted recipes are retrievable by default; if restricting, update `personal-recipe-app-spec.md` accordingly.","acceptance_criteria":"- Response JSON matches spec example (or `personal-recipe-app-spec.md` updated to match).\n- Unit tests cover ID parsing and error responses (404 vs 400).\n- Integration tests cover retrieving a recipe with ingredients/steps/tags ordering.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:30:45.190675-05:00","updated_at":"2025-12-13T21:16:12.951392-05:00","closed_at":"2025-12-13T21:16:12.951392-05:00","dependencies":[{"issue_id":"cooking_app-els","depends_on_id":"cooking_app-2iw","type":"parent-child","created_at":"2025-12-13T11:35:07.348798-05:00","created_by":"daemon"},{"issue_id":"cooking_app-els","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:31.77101-05:00","created_by":"daemon"},{"issue_id":"cooking_app-els","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:31.804158-05:00","created_by":"daemon"}]}
{"id":"cooking_app-fsg","title":"Frontend tags: Implement /tags screen (CRUD)","description":"Implement tags management UI.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.4 (Tags), 8.6 (Tags endpoints), 10.2 (routes).\n\nImplementation notes:\n- List tags.\n- Create and rename tags.\n- Delete tags with behavior matching backend/spec decision.\n- Keep UI minimal and mobile-friendly.","acceptance_criteria":"- UI supports list/create/update/delete against backend endpoints.\n- Add component tests for create/delete flows.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T11:32:52.392698-05:00","updated_at":"2025-12-13T20:21:05.781644-05:00","closed_at":"2025-12-13T20:21:05.781644-05:00","dependencies":[{"issue_id":"cooking_app-fsg","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.175234-05:00","created_by":"daemon"},{"issue_id":"cooking_app-fsg","depends_on_id":"cooking_app-kht","type":"blocks","created_at":"2025-12-13T11:37:35.595374-05:00","created_by":"daemon"},{"issue_id":"cooking_app-fsg","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:37:35.618134-05:00","created_by":"daemon"},{"issue_id":"cooking_app-fsg","depends_on_id":"cooking_app-rmu","type":"blocks","created_at":"2025-12-13T11:37:35.622895-05:00","created_by":"daemon"}]}
{"id":"cooking_app-fv6","title":"Recipe detail: add Back to recipes link + tag filter links","description":"Add a back-to-list link on recipe detail, and render tags as links to `/recipes?tag_id=...` (include `include_deleted=true` when viewing a deleted recipe).","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:31:51.734768-05:00","updated_at":"2025-12-13T22:35:32.70925-05:00","closed_at":"2025-12-13T22:35:32.70925-05:00"}
{"id":"cooking_app-ghv","title":"Recipes list: display recipe book name (when set)","description":"Show the recipe book name alongside each recipe in the list, using the already-fetched recipe books data.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:25:12.308417-05:00","updated_at":"2025-12-13T22:28:22.342909-05:00","closed_at":"2025-12-13T22:28:22.342909-05:00"}
{"id":"cooking_app-h12","title":"Backend: Introduce sqlc-based data access layer and DB wiring in API app","description":"Implement the backend database access layer and wire it into the API service.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 6.1 (DB driver/query layer), 9.2 (Database access), 9.1 (Service layout).\n\nImplementation notes:\n- Use `pgx`/`pgxpool` for connections.\n- Add `sqlc` config (e.g., `backend/sqlc.yaml`) and generated package location (e.g., `backend/internal/db/sqlc`).\n- Define initial queries needed by upcoming endpoints (users/tokens/recipes/books/tags) as `.sql` files.\n- Wire DB into `backend/internal/httpapi` `App` and request handlers.","acceptance_criteria":"- `sqlc` generation is configured and documented (and reproducible in CI).\n- API service can connect to Postgres using `DATABASE_URL` and execute a simple query via generated code.\n- Add unit/integration tests for the DB layer (including at least one generated query execution).\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:27:28.663051-05:00","updated_at":"2025-12-13T12:41:45.927585-05:00","closed_at":"2025-12-13T12:41:45.927585-05:00","dependencies":[{"issue_id":"cooking_app-h12","depends_on_id":"cooking_app-dcn","type":"parent-child","created_at":"2025-12-13T11:34:47.228482-05:00","created_by":"daemon"},{"issue_id":"cooking_app-h12","depends_on_id":"cooking_app-q5s","type":"blocks","created_at":"2025-12-13T11:35:59.2319-05:00","created_by":"daemon"},{"issue_id":"cooking_app-h12","depends_on_id":"cooking_app-0uh","type":"blocks","created_at":"2025-12-13T11:35:59.236476-05:00","created_by":"daemon"}]}
{"id":"cooking_app-hm9","title":"Frontend: Add API client wrapper + TanStack Query integration","description":"Create a maintainable API integration layer for the React app.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 10.4 (API integration approach) and 10.1 (UX principles).\n\nImplementation notes:\n- Decide between a generated client from OpenAPI (preferred) or a typed fetch wrapper.\n- Add TanStack Query and set up `QueryClientProvider`.\n- Ensure requests send cookies (session auth) and handle 401 by redirecting to `/login`.\n- Centralize API base URL assumptions (Vite proxy `/api` is already configured in `frontend/vite.config.ts`).","acceptance_criteria":"- A single API layer exists and is used by at least one screen.\n- If the project does not use OpenAPI generation, update `personal-recipe-app-spec.md` section 10.4 to reflect the chosen approach.\n- Add unit tests for API wrapper behavior (e.g., credentials included, error mapping).\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:32:18.092178-05:00","updated_at":"2025-12-13T18:43:41.51184-05:00","closed_at":"2025-12-13T18:43:41.51184-05:00","dependencies":[{"issue_id":"cooking_app-hm9","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.162858-05:00","created_by":"daemon"},{"issue_id":"cooking_app-hm9","depends_on_id":"cooking_app-5p5","type":"blocks","created_at":"2025-12-13T11:36:58.820815-05:00","created_by":"daemon"},{"issue_id":"cooking_app-hm9","depends_on_id":"cooking_app-1g9","type":"blocks","created_at":"2025-12-13T11:36:58.846847-05:00","created_by":"daemon"}]}
{"id":"cooking_app-hpx","title":"Test: acceptance field check","description":"Temporary test issue to verify beads acceptance field mapping. Will be closed/removed later if needed.","acceptance_criteria":"- Acceptance should be stored.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-13T11:27:42.319075-05:00","updated_at":"2025-12-13T11:28:39.028463-05:00","closed_at":"2025-12-13T11:28:39.028463-05:00"}
{"id":"cooking_app-hz4","title":"MVP v1 epic: Backend auth, sessions, and user management","description":"Implement authentication and user provisioning per `personal-recipe-app-spec.md`, including username/password login, session auth for browser usage, and admin user management.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 3 (Users and permissions), 8.2–8.4 (Auth + Users API), 9.4 (Authentication implementation), 12 (Security), 13 (Backend tests).\n\nScope:\n- Bootstrap-first-user path (prefer CLI as recommended in spec).\n- Password hashing (Argon2id recommended) and session cookie settings.\n- Auth endpoints: `/api/v1/auth/login`, `/api/v1/auth/logout`, `/api/v1/auth/me`.\n- User management endpoints: `/api/v1/users` and optional deactivate endpoint.\n\nNon-goals:\n- Roles/permissions beyond “all admin” (explicit non-goal in spec).","acceptance_criteria":"- All child issues under this epic are completed and meet their own acceptance criteria.\n- Any deviations/clarifications are reflected in `personal-recipe-app-spec.md`.\n- `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-13T11:26:37.615821-05:00","updated_at":"2025-12-13T21:51:36.318688-05:00","closed_at":"2025-12-13T21:51:36.318688-05:00"}
{"id":"cooking_app-ift","title":"Recipes list: include-deleted filter + deleted badge + disable edit","description":"Expose the existing backend `include_deleted` capability in the Recipes list UI, visually mark deleted recipes, and avoid offering Edit actions for deleted recipes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T22:06:39.232264-05:00","updated_at":"2025-12-13T22:10:08.720343-05:00","closed_at":"2025-12-13T22:10:08.720343-05:00"}
{"id":"cooking_app-j1a","title":"Recipe detail: make action error dismissible","description":"When a detail action (delete/restore) fails and shows an error alert, provide a Dismiss button to clear the action error while staying on the page.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:55:01.329623-05:00","updated_at":"2025-12-13T22:59:16.524211-05:00","closed_at":"2025-12-13T22:59:16.524211-05:00"}
{"id":"cooking_app-jyb","title":"Recipes list: add Clear filters action","description":"Add a clear/reset control on the recipes list to reset q/book/tag/include_deleted back to defaults (and URL params).","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-13T22:22:09.422835-05:00","updated_at":"2025-12-13T22:22:44.620788-05:00","closed_at":"2025-12-13T22:22:44.620788-05:00"}
{"id":"cooking_app-k24","title":"Recipe detail: show deleted_at timestamp when deleted","description":"When a recipe is deleted, display the `deleted_at` timestamp on the detail page (stable string display). Update tests.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T23:04:25.083846-05:00","updated_at":"2025-12-13T23:07:15.704942-05:00","closed_at":"2025-12-13T23:07:15.704942-05:00"}
{"id":"cooking_app-kht","title":"Backend tags: Implement /api/v1/tags CRUD endpoints","description":"Implement Tags CRUD endpoints.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.4 (Tags), 7.2.3 (`tags`), 8.6 (Tags endpoints).\n\nImplementation notes:\n- Endpoints: `GET/POST/PUT/DELETE /api/v1/tags`.\n- Enforce auth.\n- Ensure name uniqueness (case-insensitive per schema decision).\n- Decide behavior on delete when a tag is attached to recipes (cascade vs prevent) and update `personal-recipe-app-spec.md` to match.","acceptance_criteria":"- Endpoints exist and behave as documented in the spec (or `personal-recipe-app-spec.md` updated to match final behavior).\n- Unit tests cover validation and error responses.\n- Integration tests cover CRUD plus delete behavior when tag has recipe associations.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T11:30:45.202515-05:00","updated_at":"2025-12-13T19:40:20.171286-05:00","closed_at":"2025-12-13T19:40:20.171286-05:00","dependencies":[{"issue_id":"cooking_app-kht","depends_on_id":"cooking_app-2iw","type":"parent-child","created_at":"2025-12-13T11:35:07.362206-05:00","created_by":"daemon"},{"issue_id":"cooking_app-kht","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:31.795179-05:00","created_by":"daemon"},{"issue_id":"cooking_app-kht","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:31.799834-05:00","created_by":"daemon"}]}
{"id":"cooking_app-m04","title":"Backend auth: Add auth middleware (session and PAT) + protected route groups","description":"Add HTTP middleware that authenticates requests using either a browser session cookie or a Personal Access Token (PAT), and apply it to protected routes.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 8.1 (Auth standards), 9.4–9.5 (Auth + PAT), 12 (Security).\n\nImplementation notes:\n- Middleware should set request context values: `user_id` and `auth_type` (`session` or `pat`).\n- For unauthenticated requests to protected endpoints, return problem-style JSON errors (spec 8.1) with `401`.\n- Ensure `/healthz` and `/api/v1/healthz` remain public.","acceptance_criteria":"- Protected endpoints require auth and return consistent 401 errors when missing/invalid auth.\n- Unit tests cover middleware behavior (no auth / session / pat).\n- Integration tests cover at least one protected endpoint.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:29:24.593737-05:00","updated_at":"2025-12-13T18:23:40.060808-05:00","closed_at":"2025-12-13T18:23:40.060808-05:00","dependencies":[{"issue_id":"cooking_app-m04","depends_on_id":"cooking_app-hz4","type":"parent-child","created_at":"2025-12-13T11:34:56.904283-05:00","created_by":"daemon"},{"issue_id":"cooking_app-m04","depends_on_id":"cooking_app-6aa","type":"blocks","created_at":"2025-12-13T11:36:17.590519-05:00","created_by":"daemon"},{"issue_id":"cooking_app-m04","depends_on_id":"cooking_app-30b","type":"blocks","created_at":"2025-12-13T11:36:17.593946-05:00","created_by":"daemon"}]}
{"id":"cooking_app-mtq","title":"Recipe detail: display recipe book name and link back to filtered list","description":"If recipe has recipe_book_id, display the book name on the detail page and link back to `/recipes?book_id=...`.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:28:51.213881-05:00","updated_at":"2025-12-13T22:29:57.690285-05:00","closed_at":"2025-12-13T22:29:57.690285-05:00"}
{"id":"cooking_app-nfa","title":"Frontend settings: Implement /settings/tokens PAT manager UI","description":"Implement UI for Personal Access Token creation/list/revocation.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.1 (Settings), 8.3 (PAT endpoints), 10.2 (routes).\n\nImplementation notes:\n- Create PAT: name + optional expiry, display secret once with copy affordance.\n- List PATs (no secrets), show last used and expiry.\n- Revoke token.","acceptance_criteria":"- UI works end-to-end against backend token endpoints.\n- Token secret is displayed only once and not persisted in local storage.\n- Add component tests for create (including rendering returned secret) and revoke.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:32:52.404947-05:00","updated_at":"2025-12-13T20:23:35.258387-05:00","closed_at":"2025-12-13T20:23:35.258387-05:00","dependencies":[{"issue_id":"cooking_app-nfa","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.18923-05:00","created_by":"daemon"},{"issue_id":"cooking_app-nfa","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:37:35.630701-05:00","created_by":"daemon"},{"issue_id":"cooking_app-nfa","depends_on_id":"cooking_app-rmu","type":"blocks","created_at":"2025-12-13T11:37:35.63427-05:00","created_by":"daemon"},{"issue_id":"cooking_app-nfa","depends_on_id":"cooking_app-4u5","type":"blocks","created_at":"2025-12-13T11:37:35.637922-05:00","created_by":"daemon"}]}
{"id":"cooking_app-q3c","title":"Recipes list: allow restoring deleted recipes from list","description":"When `include_deleted` is enabled and an item is deleted, show a Restore action in the list that calls the restore endpoint and refreshes the list.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-13T22:25:12.333913-05:00","updated_at":"2025-12-13T22:27:00.891092-05:00","closed_at":"2025-12-13T22:27:00.891092-05:00"}
{"id":"cooking_app-q5s","title":"Backend: Add Postgres integration test harness (Testcontainers or dockertest)","description":"Add a repeatable integration-test harness that spins up a temporary Postgres 18 instance for backend tests (schema + API integration tests).\n\nSpec references:\n- `personal-recipe-app-spec.md` section 13 (Backend testing requirements).\n\nImplementation notes:\n- Use `testcontainers-go`, `ory/dockertest`, or an equivalent approach that works in CI.\n- Provide helpers to: start Postgres 18, run migrations, and return a `DATABASE_URL` and/or `pgxpool.Pool`.\n- Keep tests hermetic (unique DB per test suite, cleanup containers).","acceptance_criteria":"- A new integration test package exists and can start Postgres 18 and run migrations reliably.\n- At least one test proves the harness works (e.g., connects and runs a simple query).\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:27:28.67548-05:00","updated_at":"2025-12-13T12:37:48.202767-05:00","closed_at":"2025-12-13T12:37:48.202767-05:00","dependencies":[{"issue_id":"cooking_app-q5s","depends_on_id":"cooking_app-dcn","type":"parent-child","created_at":"2025-12-13T11:34:47.243974-05:00","created_by":"daemon"},{"issue_id":"cooking_app-q5s","depends_on_id":"cooking_app-0uh","type":"blocks","created_at":"2025-12-13T11:35:59.216228-05:00","created_by":"daemon"},{"issue_id":"cooking_app-q5s","depends_on_id":"cooking_app-zvm","type":"blocks","created_at":"2025-12-13T11:35:59.227097-05:00","created_by":"daemon"}]}
{"id":"cooking_app-qb9","title":"Frontend PWA: Add manifest + installability (offline disabled)","description":"Add minimal PWA support for installability.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 6.2 (PWA) and 10.6 (PWA requirements).\n\nImplementation notes:\n- Add `vite-plugin-pwa` and configure `manifest.webmanifest`:\n  - name/short_name\n  - icons 192/512 (can use placeholders initially)\n  - display: standalone\n- Register service worker for static asset caching only (no offline data caching).","acceptance_criteria":"- App is installable (manifest + service worker registered) and does not implement offline recipe caching.\n- Add unit test(s) where applicable (e.g., config presence) and/or build-time checks.\n- Run `make frontend-format` and ensure `make frontend-ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:32:52.415969-05:00","updated_at":"2025-12-13T19:37:06.884255-05:00","closed_at":"2025-12-13T19:37:06.884255-05:00","dependencies":[{"issue_id":"cooking_app-qb9","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.137146-05:00","created_by":"daemon"},{"issue_id":"cooking_app-qb9","depends_on_id":"cooking_app-5p5","type":"blocks","created_at":"2025-12-13T11:37:35.587529-05:00","created_by":"daemon"},{"issue_id":"cooking_app-qb9","depends_on_id":"cooking_app-1g9","type":"blocks","created_at":"2025-12-13T11:37:42.439464-05:00","created_by":"daemon"}]}
{"id":"cooking_app-qno","title":"Backend auth: Implement password hashing (Argon2id) + users repository helpers","description":"Add password hashing and user persistence helpers to support username/password authentication.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 6.1 (Password hashing), 7.2.1 (`users` table), 9.4 (Authentication), 12 (Security).\n\nImplementation notes:\n- Use Argon2id (recommended) with documented parameters.\n- Provide helpers for: hash password, verify password, and username normalization (trim; case-insensitive uniqueness strategy must match schema choice).\n- Add DB queries for: create user, get user by username, get user by id, list users, set `is_active`.","acceptance_criteria":"- Password hashing/verification implemented with Argon2id (or spec-updated alternative).\n- Unit tests cover hashing + verification + edge cases (wrong password, empty input handling).\n- Integration tests cover creating/fetching users with the actual DB schema.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:29:24.637775-05:00","updated_at":"2025-12-13T16:50:48.610609-05:00","closed_at":"2025-12-13T16:50:48.610609-05:00","dependencies":[{"issue_id":"cooking_app-qno","depends_on_id":"cooking_app-hz4","type":"parent-child","created_at":"2025-12-13T11:34:56.889721-05:00","created_by":"daemon"},{"issue_id":"cooking_app-qno","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:17.582387-05:00","created_by":"daemon"},{"issue_id":"cooking_app-qno","depends_on_id":"cooking_app-0uh","type":"blocks","created_at":"2025-12-13T11:36:17.600078-05:00","created_by":"daemon"}]}
{"id":"cooking_app-r8c","title":"Add Ubuntu deployment script for LAN server","description":"Provide a deploy script that syncs repo to Ubuntu server via `ssh kittenserver`, runs production docker compose in `deploy/`, and verifies via curl against the server IP endpoint.","acceptance_criteria":"- Running the script deploys the stack on the server via docker compose\n- Script sets required env vars (POSTGRES_PASSWORD, COOKING_APP_DOMAIN) and supports LAN/IP deployment\n- Script verifies health with curl and prints a URL to visit","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T09:54:07.075944-05:00","updated_at":"2025-12-14T10:46:18.78648-05:00","closed_at":"2025-12-14T10:46:18.78648-05:00"}
{"id":"cooking_app-rmu","title":"Frontend: Implement /login screen and session-based auth flow","description":"Implement the login UX for username/password and session cookie auth.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 8.2 (Auth endpoints), 10.2 (routes), 12 (cookie requirements).\n\nImplementation notes:\n- Build `/login` form with validation.\n- Call `POST /api/v1/auth/login` then load `/api/v1/auth/me` to confirm session.\n- Add a lightweight auth context/hook to store current user and gate protected routes.","acceptance_criteria":"- Login works end-to-end against the backend session endpoints.\n- Protected routes redirect to `/login` when unauthenticated.\n- Add component tests for login validation and redirect behavior.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:32:18.104661-05:00","updated_at":"2025-12-13T19:54:43.284349-05:00","closed_at":"2025-12-13T19:54:43.284349-05:00","dependencies":[{"issue_id":"cooking_app-rmu","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.167316-05:00","created_by":"daemon"},{"issue_id":"cooking_app-rmu","depends_on_id":"cooking_app-6aa","type":"blocks","created_at":"2025-12-13T11:36:58.812942-05:00","created_by":"daemon"},{"issue_id":"cooking_app-rmu","depends_on_id":"cooking_app-5p5","type":"blocks","created_at":"2025-12-13T11:36:58.831834-05:00","created_by":"daemon"},{"issue_id":"cooking_app-rmu","depends_on_id":"cooking_app-1g9","type":"blocks","created_at":"2025-12-13T11:36:58.83812-05:00","created_by":"daemon"},{"issue_id":"cooking_app-rmu","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:36:58.842685-05:00","created_by":"daemon"}]}
{"id":"cooking_app-tf2","title":"Preserve include_deleted when navigating via list/detail filter links","description":"If include_deleted is enabled, ensure book/tag filter Links in the recipes list preserve `include_deleted=true`. Also, when viewing a deleted recipe detail, the Book link back to list should include `include_deleted=true`.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:37:44.446093-05:00","updated_at":"2025-12-13T22:39:29.056065-05:00","closed_at":"2025-12-13T22:39:29.056065-05:00"}
{"id":"cooking_app-uln","title":"Backend recipes: Implement soft delete and restore endpoints","description":"Implement soft delete and recommended restore behavior for recipes.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.6 (Soft delete), 8.7.5 (DELETE recipe), 8.7.6 (Restore recipe recommended).\n\nImplementation notes:\n- `DELETE /api/v1/recipes/{id}` sets `deleted_at=now()` and updates audit fields, returns `204`.\n- `PUT /api/v1/recipes/{id}/restore` sets `deleted_at=NULL` and updates audit fields.\n- Ensure list endpoint excludes deleted by default.","acceptance_criteria":"- Delete and restore endpoints behave as specified (or `personal-recipe-app-spec.md` updated to match).\n- Unit tests cover handler behavior and error responses.\n- Integration tests cover delete → excluded from list → restore → included again.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T11:30:45.123898-05:00","updated_at":"2025-12-13T21:28:03.822066-05:00","closed_at":"2025-12-13T21:28:03.822066-05:00","dependencies":[{"issue_id":"cooking_app-uln","depends_on_id":"cooking_app-2iw","type":"parent-child","created_at":"2025-12-13T11:35:07.328934-05:00","created_by":"daemon"},{"issue_id":"cooking_app-uln","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:41.669927-05:00","created_by":"daemon"},{"issue_id":"cooking_app-uln","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:41.694679-05:00","created_by":"daemon"}]}
{"id":"cooking_app-ulu","title":"Recipe detail: display created/updated timestamps","description":"On recipe detail, display created_at and updated_at fields (stable string display). Update tests accordingly.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T23:00:37.023584-05:00","updated_at":"2025-12-13T23:03:14.647689-05:00","closed_at":"2025-12-13T23:03:14.647689-05:00"}
{"id":"cooking_app-w3q","title":"Recipes list: make action error dismissible","description":"When a list action (restore) fails and shows an error alert, provide a Dismiss button to clear the action error without changing filters.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:55:01.356547-05:00","updated_at":"2025-12-13T22:58:25.052841-05:00","closed_at":"2025-12-13T22:58:25.052841-05:00"}
{"id":"cooking_app-wgo","title":"Recipes list: make book and tag labels clickable filters","description":"In recipes list items, make book name and tag names clickable Links to the filtered list (`/recipes?book_id=...`, `/recipes?tag_id=...`).","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T22:31:51.752543-05:00","updated_at":"2025-12-13T22:37:06.835486-05:00","closed_at":"2025-12-13T22:37:06.835486-05:00"}
{"id":"cooking_app-x6z","title":"Spec cleanup: remove Umami references and align env var names","description":"The spec still refers to \"Umami-like\" and uses UMAMI_* example env var names; update wording and examples to reflect the actual cooking_app implementation and naming.","acceptance_criteria":"- `personal-recipe-app-spec.md` no longer contains `umami`/`UMAMI_` references unless explicitly required.\n- Bootstrap section references the implemented CLI approach and/or uses cooking_app-prefixed env var names.\n- `make ci` passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T21:53:19.822019-05:00","updated_at":"2025-12-13T21:54:27.704128-05:00","closed_at":"2025-12-13T21:54:27.704128-05:00"}
{"id":"cooking_app-xhj","title":"Backend recipes: Implement POST /api/v1/recipes create (validation + transactional inserts)","description":"Implement recipe creation with structured ingredients, steps, and tags.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 8.7.3 (Create recipe), 7.2.4–7.2.7 (schema), 9.2 (transactional pattern).\n\nImplementation notes:\n- Validate per spec: title required, servings \u003e 0, times \u003e= 0, steps are 1..N consecutive, ingredient positions unique.\n- Insert recipe row + ingredients + steps + recipe_tags transactionally.\n- Audit fields: populate created/updated fields with the authenticated user.","acceptance_criteria":"- Endpoint returns `201` with recipe detail response as spec’d.\n- Validation errors use problem-style JSON with field details.\n- Unit tests cover validation rules.\n- Integration tests cover full create with ingredients/steps/tags and correct audit fields.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:30:45.213284-05:00","updated_at":"2025-12-13T21:10:55.207646-05:00","closed_at":"2025-12-13T21:10:55.207646-05:00","dependencies":[{"issue_id":"cooking_app-xhj","depends_on_id":"cooking_app-2iw","type":"parent-child","created_at":"2025-12-13T11:35:07.343639-05:00","created_by":"daemon"},{"issue_id":"cooking_app-xhj","depends_on_id":"cooking_app-m04","type":"blocks","created_at":"2025-12-13T11:36:41.699201-05:00","created_by":"daemon"},{"issue_id":"cooking_app-xhj","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:41.703872-05:00","created_by":"daemon"}]}
{"id":"cooking_app-xv8","title":"Backend auth: Add bootstrap-first-user CLI command","description":"Provide a safe bootstrap path to create the first user on a fresh database.\n\nSpec references:\n- `personal-recipe-app-spec.md` section 3.2 (Bootstrap requirement) and 7.2.1 (bootstrap note for `created_by/updated_by`).\n\nImplementation notes:\n- Prefer a CLI command as recommended (avoid a long-lived bootstrap HTTP endpoint).\n- Suggested location: extend existing CLI (`backend/cmd/cooking_app`) with a subcommand like `bootstrap-user`.\n- The command should:\n  - refuse to run if the `users` table is non-empty\n  - create the first user with `created_by = new_user_id` and `updated_by = new_user_id` (per spec)\n  - print minimal success output (never print password)","acceptance_criteria":"- CLI can create the first user only when `users` is empty; otherwise errors safely.\n- Integration test covers the empty/non-empty behavior.\n- If CLI name/flags differ from spec wording, update `personal-recipe-app-spec.md` to document the final bootstrap procedure.\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:29:24.533995-05:00","updated_at":"2025-12-13T16:54:02.023984-05:00","closed_at":"2025-12-13T16:54:02.023984-05:00","dependencies":[{"issue_id":"cooking_app-xv8","depends_on_id":"cooking_app-hz4","type":"parent-child","created_at":"2025-12-13T11:34:56.883813-05:00","created_by":"daemon"},{"issue_id":"cooking_app-xv8","depends_on_id":"cooking_app-h12","type":"blocks","created_at":"2025-12-13T11:36:17.54333-05:00","created_by":"daemon"},{"issue_id":"cooking_app-xv8","depends_on_id":"cooking_app-0uh","type":"blocks","created_at":"2025-12-13T11:36:17.559588-05:00","created_by":"daemon"},{"issue_id":"cooking_app-xv8","depends_on_id":"cooking_app-qno","type":"blocks","created_at":"2025-12-13T11:36:17.602983-05:00","created_by":"daemon"}]}
{"id":"cooking_app-y5c","title":"Recipes list: show servings/prep/total meta line","description":"In the recipes list, show a compact meta line per recipe with servings, prep minutes, and total minutes. Update tests accordingly.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-13T23:00:37.04971-05:00","updated_at":"2025-12-13T23:02:10.806269-05:00","closed_at":"2025-12-13T23:02:10.806269-05:00"}
{"id":"cooking_app-zbj","title":"Frontend recipes: Implement /recipes/new and /recipes/:id/edit RecipeEditor (RHF + zod)","description":"Implement recipe create/edit form with structured ingredients and numbered steps.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 4.2 (Recipe requirements), 8.7.3–8.7.4 (Create/Update), 10.5 (Forms and validation), 13 (Frontend tests).\n\nImplementation notes:\n- Use React Hook Form + zod (recommended).\n- Form fields: title, servings, prep time, total time, source URL, notes.\n- Tags selector and recipe book selector.\n- Ingredients editor: add/remove/reorder; structured fields as spec.\n- Steps editor: add/remove/reorder; enforce consecutive step numbers.","acceptance_criteria":"- Create and edit flows work end-to-end against backend endpoints.\n- Client-side validation mirrors backend rules and shows field-level errors.\n- Add component tests for validation and submit behavior.\n- Run `make frontend-format` and ensure `make frontend-ci` (and `npm run test` if present) passes.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-13T11:32:52.378146-05:00","updated_at":"2025-12-13T21:46:06.090624-05:00","closed_at":"2025-12-13T21:46:06.090624-05:00","dependencies":[{"issue_id":"cooking_app-zbj","depends_on_id":"cooking_app-7ko","type":"parent-child","created_at":"2025-12-13T11:35:22.179072-05:00","created_by":"daemon"},{"issue_id":"cooking_app-zbj","depends_on_id":"cooking_app-kht","type":"blocks","created_at":"2025-12-13T11:37:18.465736-05:00","created_by":"daemon"},{"issue_id":"cooking_app-zbj","depends_on_id":"cooking_app-xhj","type":"blocks","created_at":"2025-12-13T11:37:18.474396-05:00","created_by":"daemon"},{"issue_id":"cooking_app-zbj","depends_on_id":"cooking_app-hm9","type":"blocks","created_at":"2025-12-13T11:37:18.480641-05:00","created_by":"daemon"},{"issue_id":"cooking_app-zbj","depends_on_id":"cooking_app-rmu","type":"blocks","created_at":"2025-12-13T11:37:18.486099-05:00","created_by":"daemon"},{"issue_id":"cooking_app-zbj","depends_on_id":"cooking_app-e3h","type":"blocks","created_at":"2025-12-13T11:37:18.491334-05:00","created_by":"daemon"},{"issue_id":"cooking_app-zbj","depends_on_id":"cooking_app-cr4","type":"blocks","created_at":"2025-12-13T11:37:18.496035-05:00","created_by":"daemon"}]}
{"id":"cooking_app-zo1","title":"Deploy script should run DB migrations before verification","description":"Production deploy currently brings up services and checks /api/v1/healthz, but database migrations are not applied; bootstrap-user and most endpoints fail until goose migrations are run manually.","acceptance_criteria":"- `deploy/deploy.sh` runs goose migrations against the compose DB (idempotent)\n- Deployment script waits for DB readiness and fails with helpful logs if migrations fail\n- README mentions how to bootstrap first user","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T13:33:22.722927-05:00","updated_at":"2025-12-14T13:34:59.119169-05:00","closed_at":"2025-12-14T13:34:59.119169-05:00","dependencies":[{"issue_id":"cooking_app-zo1","depends_on_id":"cooking_app-r8c","type":"discovered-from","created_at":"2025-12-14T13:33:27.015295-05:00","created_by":"daemon"}]}
{"id":"cooking_app-zvm","title":"Backend: Standardize migrations tool and Makefile targets","description":"Choose and implement a single migrations tool for the Go backend, then wire it into the repo so all environments can apply migrations consistently.\n\nSpec references:\n- `personal-recipe-app-spec.md` sections 6.1 (Migrations), 9.1 (Service layout), 7 (Data model).\n- Existing note: `backend/migrations/README.md`.\n\nImplementation notes:\n- Pick either `goose` or `atlas` (both allowed per spec); document the choice.\n- Add Makefile targets for at least: create migration, migrate up, migrate down, status/version.\n- Ensure `DATABASE_URL` is the single source of connection config (matches current compose usage).\n- Keep local dev ergonomics (works with `make dev-up` DB).","acceptance_criteria":"- Tool choice is implemented and documented; if the choice differs from spec recommendations/wording, update `personal-recipe-app-spec.md` accordingly.\n- Make targets exist and are documented in `backend/migrations/README.md` (and/or backend README) with example commands.\n- Add automated tests that validate the migrations tool wiring works (e.g., apply migrations to a test Postgres and assert expected schema artifacts exist).\n- Run `make backend-fmt` and ensure `make backend-ci` passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:27:28.648407-05:00","updated_at":"2025-12-13T12:21:38.045667-05:00","closed_at":"2025-12-13T12:21:38.045667-05:00","dependencies":[{"issue_id":"cooking_app-zvm","depends_on_id":"cooking_app-dcn","type":"parent-child","created_at":"2025-12-13T11:34:47.234119-05:00","created_by":"daemon"}]}
